<!DOCTYPE html>
<html>

<head>
	<title>Authentication | BungieNetPlatform</title>
	<meta charset='utf-8'>
	<meta name="viewport" content="initial-scale=1, width=device-width" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="BungieNetPlatform : A community run wiki for the Bungie.net Platform APIs.">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,700' rel='stylesheet' type='text/css'>

	<!-- Bootstrap 3.3.6 -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css">

	<link rel="stylesheet" href="../lib/font-awesome/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" media="screen" href="../css/stylesheet.css?1503802821">
</head>

<body>

<div class="wrap">
<!-- HEADER -->
<!-- docs/Authentication.html | Authentication -->
<header id="top" class="navbar">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#top-nav">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="../" class="navbar-brand">BungieNetPlatform</a>
		</div>
		<nav id="top-nav" class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
<li><li><a href="../">Home</a></li>
<li><a href="../docs/Changelog">Changelog</a></li>
<li><a href="#">Guides</a>
<ul>
<li><a href="../docs/Getting-Started">Getting Started</a></li>
<li><a href="../docs/API-Details">API Details</a></li>
<li><a href="../docs/Manifest">Manifest</a></li>
<li><a href="../docs/Authentication">Authentication</a></li>
<li><a href="../docs/Past-Authentication">Past Authentication</a></li>
</ul></li>
<li><a href="#">References</a>
<ul>
<li><a href="../docs/Components">Components</a></li>
<li><a href="../docs/Definitions">Definitions</a></li>
<li><a href="../docs/Endpoints">Endpoints</a></li>
</ul></li>
</ul>			<ul class="nav navbar-nav navbar-right">
				<li>
					<a id="forkme_banner" href="https://github.com/DestinyDevs/BungieNetPlatform/wiki">View on GitHub</a>
				</li>
			</ul>
		</nav>
		<div id="wiki-search" ng-controller="SearchCtrl" wiki-search></div>
	</div>
</header>
<div id="header">
	<div class="container">
		<h1>Authentication</h1>
		<h2>A community run wiki for the Bungie.net Platform APIs.</h2>

		<!--<section id="downloads">
		  <a class="zip_download_link" href="https://github.com/DestinyDevs/BungieNetPlatform/zipball/master">Download this project as a .zip file</a>
		  <a class="tar_download_link" href="https://github.com/DestinyDevs/BungieNetPlatform/tarball/master">Download this project as a tar.gz file</a>
		</section>-->
	</div>
</div>

<!-- MAIN CONTENT -->
<div id="content">
	<div class="container">
		<div class="inner"><a href="https://github.com/DestinyDevs/BungieNetPlatform/tree/master/wiki-docs/Authentication.md" target="_blank" class="edit-link"><i class="fa fa-code"></i> Source</a><h2>Introduction</h2>
<p>With the introduction of User Authentication, third party apps can now make calls to endpoints that were previously private access using the new &quot;sanctioned&quot; OAuth implementation. It does however require that your web server has a valid SSL certificate and can operate over https.</p>
<h2>OAuth 2.0 (Beta)</h2>
<p>Support for OAuth 2.0 (RFC 6749) was added on May 31, 2017. This is a more standardized implementation of user authentication and will likely replace the old method in the future. The Bungie Developers have advised to treat it as being still in Beta for the time being. See the <a href="https://www.bungie.net/en/Clan/Post/39966/227773391/0/0">Official Help Article</a> for more information.</p>
<h3>Demo</h3>
<p>To make it easier for developers who are unfamiliar with OAuth, lowlines has set up a test page on his website that goes through the steps involved with getting a user to Authorize your App and then refreshing your Access Tokens periodically.</p>
<p><a href="https://lowlidev.com.au/destiny/authentication-2">https://lowlidev.com.au/destiny/authentication-2</a></p>
<h3>Code Examples</h3>
<p>Currently no code examples are available for this implementation.</p>
<h2>Authentication 1.0</h2>
<p>The first iteration of User Authentication was a partial implementation the OAuth specification. It will likely be replaced by the new OAuth 2.0 in the future. See the <a href="https://www.bungie.net/en/Help/Article/45481">Official Help Article</a> for more information.</p>
<h3>Demo</h3>
<p>To make it easier for developers who are unfamiliar with OAuth, lowlines has set up a test page on his website that goes through the steps involved with getting a user to Authorize your App and then refreshing your Access Tokens periodically.</p>
<p><a href="https://lowlidev.com.au/destiny/authentication">https://lowlidev.com.au/destiny/authentication</a></p>
<h3>Code Examples</h3>
<p>Below is a working list of implementations for various languages provided by members of the community.</p>
<h4>PHP Authentication (by <a href="https://www.bungie.net/en/User/Profile/5434199">projectxmatt</a>)</h4>
<pre><code class="php">&lt;?php

$apikey = 'YOUR-API-KEY-HERE';

$code = htmlspecialchars($_GET['code']);

// Exchange code for Token
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL,'https://www.bungie.net/Platform/App/GetAccessTokensFromCode/');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array('X-API-KEY: '.$apikey));
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode(array('code' =&gt; $code)));

$response = curl_exec($ch);
$response = json_decode($response);
curl_close($ch);

// Using access token to get user's bungie account
$accesstoken = $response-&gt;Response-&gt;accessToken-&gt;value;
$ch = curl_init();

curl_setopt($ch, CURLOPT_URL,'https://www.bungie.net/Platform/User/GetCurrentBungieAccount/');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
        'X-API-KEY: '.$apikey,
        'Authorization: Bearer '.$accesstoken
));

$userinfo = curl_exec($ch);
$userinfo = json_decode($userinfo);

curl_close($ch);</code></pre>
<h2>References</h2>
<ol>
<li><a href="https://www.bungie.net/en/Help/Article/45481">https://www.bungie.net/en/Help/Article/45481</a></li>
<li><a href="https://www.bungie.net/en/Clan/Post/39966/227773391/0/0">https://www.bungie.net/en/Clan/Post/39966/227773391/0/0</a></li>
</ol>
		</div>
	</div>
</div>
</div>

<!-- FOOTER  -->
<footer id="footer">
	<div class="container">
		<p class="copyright">BungieNetPlatform maintained by <a href="https://github.com/DestinyDevs">DestinyDevs</a>.<br/>This is a community run wiki and is not offically supported by <a href="https://www.bungie.net">Bungie</a>.</p>
	</div>
</footer>

<script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"></script>
<script src="../js/main.js?1458004654"></script>
</body>
</html>